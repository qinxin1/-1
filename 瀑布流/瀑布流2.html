<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>瀑布流2</title>
	<meta name="keywords" content="">
	<meta name="description" content="">
	<link rel="stylesheet" href="reset.css">
	<style>
		#box{
			width:1080px;
			margin:10px auto;
			overflow:hidden;
		}
		#box ul{
			width:250px;
			float:left;
			margin:10px;
		}
		#box ul li{
			width:248px;
			/* border:1px solid black; */
		}
		#box ul li img{
			width:248px;
			border:1px solid black;
			margin-top:10px;
			display:block;
		}
	</style>
</head>
<body>
	<div id="box">
		<ul>
			<!-- <li>
				<img src="images/1.png" alt="">
			</li> -->
		</ul>
		<ul></ul>
		<ul></ul>
		<ul></ul>
	</div>
</body>
<script>
	var box=document.getElementById('box');
	var uls=box.children;
	//在高度最小的ul里面插入一个li
	function appCh(){
		var oli=document.createElement('li');
		var x=Math.ceil(Math.random()*35);
		oli.innerHTML='<img src="images/'+x+'.png" alt="">';
		var ul1=uls[0].offsetHeight;
		var ul2=uls[1].offsetHeight;
		var ul3=uls[2].offsetHeight;
		var ul4=uls[3].offsetHeight;
		var min=Math.min(ul1,ul2,ul3,ul4);//最小高度数值
		var aa;
		for(var i=0;i<uls.length;i++){
			if(uls[i].offsetHeight==min){
				aa=uls[i];
			}
		}
		aa.appendChild(oli);
	}
	for(var i=0;i<16;i++){
		appCh();
	}

	window.onscroll=function(){
		console.log('ni ');
		var dH=document.documentElement.offsetHeight;//文档高
		var wH=document.documentElement.clientHeight;//浏览器高
		var sH=document.body.scrollTop||document.documentElement.scrollTop;//上卷的高度
		var cha=dH-wH-sH;
		if(cha<500){
			for(var i=0;i<16;i++){
				appCh();
			}
		}
	}
</script>
</html>